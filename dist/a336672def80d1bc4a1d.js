!function(e){e.scrollingParallax=function(t,i){(i=i||{}).enableVertical=void 0===i.enableVertical||i.enableVertical,i.enableVertical&&(i.staticSpeed=i.staticSpeed||!1,i.staticScrollLimit=void 0===i.staticScrollLimit||i.staticScrollLimit,i.loopIt=i.loopIt||!1,i.reverseDirection=i.reverseDirection||!1),i.enableHorizontal=i.enableHorizontal||!1,i.enableHorizontal&&(i.staticSpeedX=i.staticSpeedX||!1,i.staticScrollLimitX=void 0===i.staticScrollLimitX||i.staticScrollLimitX,i.loopItX=i.loopItX||!1,i.reverseDirectionX=i.reverseDirectionX||!1),i.disableIE6=i.disableIE6||!1,i.disableIE6Anim=void 0===i.disableIE6Anim||i.disableIE6Anim,i.bgWidth=i.bgWidth||(i.enableHorizontal?"150%":"100%"),i.bgHeight=i.bgHeight||"150%",i.bgRepeat=i.bgRepeat||!1,i.appendInFront=i.appendInFront||!1,i.parallaxHeight=i.parallaxHeight||!1,i.parallaxWidth=i.parallaxWidth||!1;var r=!!(e.browser.msie&&e.browser.version<7);if(i.disableIE6&&r)return!1;var a,o=e(document),l=e(window),n=!1;if(i.enableVertical)var s,c,p,d,b=0,v=0,f=0,h=!1,I=null;if(i.enableHorizontal)var u,g,S,m,X=0,D=0,H=0,x=!1,L=null;function z(){i.enableVertical&&(s=a.height(),c=l.height(),p=o.height(),(d=(i.parallaxHeight||s)-c)<0&&(d=i.staticSpeed?c-s:i.reverseDirection?c-f-s:f,h=!0),r&&!b&&(b=-1*(p-s)),i.loopIt&&(v=parseInt(o.scrollTop()/(h?c:s)))),i.enableHorizontal&&(u=a.width(),g=l.width(),S=o.width(),(m=(i.parallaxWidth||u)-g)<0&&(m=i.staticSpeedX?g-u:i.reverseDirectionX?g-H-u:H,x=!0),r&&!X&&(X=-1*(S-u)),i.loopItX&&(D=parseInt(o.scrollLeft()/(x?g:u)))),w()}function w(){a.queue([]);var t={};if(i.enableVertical){var r=V(!0);t.top=r}if(i.enableHorizontal){var o=V(!1);t.left=o}!e.browser.msie&&(Math.abs(I-r)>100||Math.abs(L-o)>100)?a.animate(t,30):a.css(t),I=r,L=o}function V(e){if(e)var t=o.scrollTop(),a=p,l=c,n=s,I=d,L=v,z=f,w=(I=d,h),V=b,y={reverseDirection:i.reverseDirection,staticSpeed:i.staticSpeed,loopIt:i.loopIt,staticScrollLimit:i.staticScrollLimit};else t=o.scrollLeft(),a=S,l=g,n=u,L=D,z=H,I=m,w=x,V=X,y={reverseDirection:i.reverseDirectionX,staticSpeed:i.staticSpeedX,loopIt:i.loopItX,staticScrollLimit:i.staticScrollLimitX};if(y.staticSpeed){var E=t*y.staticSpeed;E-=I*L}else E=t/(a-l)*I;return y.reverseDirection||(E*=-1),E+=z,y.staticSpeed&&(E=function(e,t,i,r,a){if(i.loopIt){for(;e<r;){e+=r;var o=i.reverseDirection?-1:1;t?v+=o:D+=o}for(;e>(i.reverseDirection?-1:0);)e-=r,o=i.reverseDirection?-1:1,t?v-=o:D-=o}else i.staticScrollLimit&&(a?(e<0&&(e=0),e>r&&(e=r)):(e>0&&(e=0),-1*e>r&&(e=-1*r)));return e}(E,e,y,I,w)),w&&y.staticSpeed&&y.loopIt&&(E+=l-n),r&&(E+=t,E=Math.max(parseInt(E),parseInt(V))),E}!function(t){if("string"==typeof t?a=function(t){var a={display:"block",top:0,left:0,width:i.bgWidth,height:i.bgHeight,zIndex:0};if(a.position=r?"absolute":"fixed",i.bgRepeat){var o=i.appendInFront?e("<div></div>").appendTo(e("body")):e("<div></div>").prependTo(e("body"));a.backgroundRepeat="repeat",a.backgroundImage='url("'+t+'")'}else(o=i.appendInFront?e("<img />").appendTo(e("body")):e("<img />").prependTo(e("body"))).attr("src",t);return o.css(a),n=!0,o}(t):((a=e(t)).css("position",r?"absolute":"fixed"),i.enableVertical&&(f=parseInt(a.css("top"))),i.enableHorizontal&&(H=parseInt(a.css("left")))),i.disableIE6Anim&&r)return!1;z(),n&&(i.reverseDirection&&i.enableVertical&&(f+=-1*d,a.css("top",f)),i.reverseDirectionX&&i.enableHorizontal&&(H+=-1*m,a.css("left",H))),l.scroll((function(){w()})),l.resize((function(){z()}))}(t)},e.fn.scrollingParallax=function(t){return this.each((function(){new e.scrollingParallax(this,t)})),this}}(jQuery);